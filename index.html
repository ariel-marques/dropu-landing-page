<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DropU • Scroll Dock</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root{
      --stage-max-w: 980px;
    }

    /* ——— Seções de apoio ——— */
    .hero {
      padding-block: 60vh 12vh;
    }
    .spacer {
      height: 120vh;
      background: #0f1115;
      color: #9aa4b2;
    }

    /* ——— Stage do MacBook (pinnado) ——— */
    .macbook-stage-wrap {
      position: relative;
      padding-block: 0vh 18vh; /* respiro para a pinagem */
      background: #0b0b0c;
      color: #fff;
      overflow: clip;
    }
    .macbook-stage {
      position: relative;
      width: min(var(--stage-max-w), 92vw);
      margin: 0 auto;
      aspect-ratio: 16/10;      /* ajuda no layout antes das imagens carregarem */
    }

    /* Layers do mockup */
    .macbook-frame,
    .finder-window,
    .dropu-shelf {
      position: absolute;
      display: block;
      user-select: none;
      pointer-events: none;
      max-width: none;
    }
    .macbook-frame {
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      z-index: 1;
    }

    /* Posicione a janela do Finder dentro do mockup */
    .finder-window {
      width: 72%;  /* alinhe largura com a shelf */
      left: 14%;
      top: 18%;
      z-index: 2;
    }

    /* Shelf começa abaixo do “dock” visual e sobe até encostar */
    .dropu-shelf {
      width: 72%;
      left: 14%;
      top: 58%;                 /* base da janela do Finder */
      transform: translateY(228vh); /* estado inicial deslocado p/ baixo */
      will-change: transform;
      z-index: 3;
    }

    /* Próxima seção (aparece quando o pin solta) */
    .next-section {
      padding-block: 16vh;
      background: #ffffff;
    }
  </style>
</head>
<body>

  <!-- Hero inicial -->
  <section class="hero text-center">
    <div class="container">
      <h1 class="display-5 fw-bold">Scroll para ver a magia ✨</h1>
      <p class="lead text-muted">A shelf do DropU encaixa sob o Finder e depois tudo sobe junto.</p>
    </div>
  </section>

  <!-- Um pouco de conteúdo antes do stage (opcional) -->
  <div class="spacer d-flex align-items-center justify-content-center">
    <p class="m-0">Continue rolando…</p>
  </div>

  <!-- ====== STAGE PINNADO ====== -->
  <section id="stage" class="macbook-stage-wrap">
    <div class="macbook-stage" id="macbookStage">
      <!-- Troque pelos seus assets reais -->
      <img class="macbook-frame"  src="macbook-shell.png"    alt="MacBook mockup">
      <img class="dropu-shelf"    src="dropu.png" alt="DropU shelf">
    </div>
  </section>

  <!-- Próxima seção (aparece depois que o stage sai da tela) -->
  <section class="next-section">
    <div class="container">
      <h2 class="h1 fw-bold mb-3">Próxima seção</h2>
      <p class="lead text-secondary">Aqui entra seu conteúdo seguinte (features, screenshots, CTA, etc.).</p>
    </div>
  </section>

  <!-- Próxima seção (aparece depois que o stage sai da tela) -->
  <section class="next-section bg-danger">
    <div class="container">
      <h2 class="h1 fw-bold mb-3">Próxima seção</h2>
      <p class="lead text-secondary">Aqui entra seu conteúdo seguinte (features, screenshots, CTA, etc.).</p>
    </div>
  </section>

  <!-- Próxima seção (aparece depois que o stage sai da tela) -->
  <section class="next-section">
    <div class="container">
      <h2 class="h1 fw-bold mb-3">Próxima seção</h2>
      <p class="lead text-secondary">Aqui entra seu conteúdo seguinte (features, screenshots, CTA, etc.).</p>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    // Timeline do stage:
    // - pin ativo entre start e end
    // - Fase A: shelf sobe até o dock e PARA
    // - “hold” (tempo morto) enquanto o usuário dá mais scroll
    // - Fase B: macbook + finder + shelf sobem juntos e saem da tela
    const tl = gsap.timeline({
      defaults: { ease: "power2.out" },
      scrollTrigger: {
        trigger: "#stage",
        start: "top top",
        end: "+=1000vh",   // comprimento total da cena (ajuste fino)
        scrub: true,
        pin: true,
        anticipatePin: 1
      }
    });

    // Fase A — shelf sobe até encostar
    tl.to(".dropu-shelf", { y: 0, duration: 0.35 }, 0);

    // “Hold” (a shelf fica parada enquanto o usuário ainda rola um pouco)
    // Como scrub não aceita pause, usamos um tween “vazio” para criar intervalo.
    tl.to({}, { duration: 0.35 }, ">");

    // Fase B — tudo sobe JUNTO e sai da tela
    const raiseAmount = -0; // % do próprio box (ajuste até sumir com elegância)
    tl.to([".macbook-frame", ".finder-window", ".dropu-shelf"], {
      yPercent: raiseAmount,
      duration: 0.8
    }, ">");

    // Dicas de ajuste fino:
    // - A sensação de “encaixe” depende do alinhamento visual entre .finder-window e .dropu-shelf.
    //   Garanta mesma left/width e um top da shelf que fique logo sob a base da janela.
    // - Ajuste end/durations para calibrar a distância de scroll de cada fase.
  </script>
</body>
</html>
